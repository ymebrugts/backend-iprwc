CREATE TABLE product (
                       id SERIAL PRIMARY KEY,
                       name VARCHAR(100) NOT NULL,
                       description VARCHAR(500) NOT NULL,
                       price_cents INTEGER NOT NULL
  --Add: In stock 0/1  and deleted 0/1
);

CREATE TABLE account (
                       email VARCHAR(100) PRIMARY KEY,
                       password VARCHAR(32) NOT NULL,
                       is_admin INTEGER NOT NULL
);

CREATE TABLE location (
                        account_email VARCHAR(100) REFERENCES account(email) ON DELETE CASCADE ON UPDATE CASCADE,
                        street_name VARCHAR(100) NOT NULL,
                        house_nr VARCHAR(10) NOT NULL,
                        zipcode CHAR(10) NOT NULL,
                        city VARCHAR(50) NOT NULL
);

CREATE TABLE cart_item (
                         account_email VARCHAR(100) REFERENCES account (email) ON DELETE CASCADE ON UPDATE CASCADE,
                         product_id INTEGER UNIQUE NOT NULL REFERENCES product (id) ON DELETE RESTRICT ON UPDATE CASCADE,
                         amount INTEGER NOT NULL
);

CREATE TABLE orderhistory (
                            id SERIAL PRIMARY KEY,
                            account_email VARCHAR(100) NOT NULL REFERENCES account (email)ON DELETE CASCADE ON UPDATE CASCADE,
                            product_id INTEGER NOT NULL REFERENCES product (id) ON DELETE RESTRICT ON UPDATE CASCADE,
                            amount INTEGER
)
